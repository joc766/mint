# Docker Compose override file for local development
# This file is automatically loaded by docker-compose and provides development-specific configuration
# Usage: docker-compose up (automatically uses this override file)

services:
  frontend:
    build:
      target: development
      args:
        BUILD_MODE: developement
        NEXT_PUBLIC_API_URL: http://localhost:8000
    environment:
        NEXT_PUBLIC_API_URL: http://localhost:8000
        # Enable file watching for hot reload in Docker (uncomment for dev mode)
        WATCHPACK_POLLING: "true"
        CHOKIDAR_USEPOLLING: "true"
    volumes:
        # Mount source code for hot reload (cached for better macOS performance)
        # Uncomment these for development mode with hot reload:
         - ./frontend:/app:cached
        # Prevent node_modules and .next from being overwritten by host
         - /app/node_modules
         - /app/.next
    # depends_on:
    #     - api

